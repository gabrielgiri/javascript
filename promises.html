<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />

    <title>Promise</title>
    <script>
      let miPrimeraPromise = new Promise((resolve, reject) => {
        setTimeout(function () {
          resolve("¡Éxito!"); // ¡Todo salió bien!
        }, 3000);
      });

      miPrimeraPromise.then((successMessage) => {
        console.log("¡Sí! " + successMessage);
      });

      var promesa = new Promise((resolve, reject) => {
        setTimeout(function () {
          resolve("salio Ok");
        }, 1000);
      });
      promesa.then((mensajeok) => {
        console.log("Mensaje: " + mensajeok);
      });

      // otro ejemplo

      let x = 62;

      const p = new Promise((resolve, reject) => {
        if (x == 5) {
          resolve("La variable es igual a 5");
        } else {
          reject("La variable NO igual a 5");
        }
      });

      p.then((res) => {
        console.log("Success: " + res);
      })
      .catch((error) => {
        console.log("Error: " + error);
      });

      // otro ejemplo

      const data = [
        {
          player: "Lionel Messi",
          age: 32,
          country: "Argentina",
        },
        {
          player: "Michel Platini",
          age: 67,
          country: "Francia",
        },
        {
          player: "Cristiano Ronaldo",
          age: 32,
          country: "Portugal",
        },
        {
          player: "Angel Di Maria",
          age: 33,
          country: "Argentina",
        },
        {
          player: "Diego Maradona",
          age: 65,
          country: "Argentina",
        },
        {
          player: "Franz Beckenbauer",
          age: 66,
          country: "Alemania",
        },
      ];


      function getData() {

        setTimeout(() => {
            return data;
         }, 3500);
         
      }

      function getDataPromise() {
        
return new Promise ((resolve, reject) => {
if (data.length === 0) {
    console.log('11111response');
    reject(new Error('data is empty'));
}

setTimeout(() => {
    return data;
 }, 3500);

});


 
}


console.log(getData());

getDataPromise()
    .then(( response ) => {
        console.log(response);
    })

    .catch(( err ) => {
        console.log(err.message);
    });


    </script>
  </head>

  <body class="p-5">
    <h1>Promises</h1>
    <h3>JAVASCRIPT</h3>

    <a href="index.html" class="btn btn-primary" role="button"
      >Volver al menu</a
    >
    <hr />
    <p></p>
    <pre>
        <code>
let miPrimeraPromise = new Promise((resolve, reject) => {
    setTimeout(function() {
        resolve("¡Éxito!"); // ¡Todo salió bien!
    }, 3000);
});

miPrimeraPromise.then((successMessage) => {
    console.log("¡Sí! " + successMessage);
});

var promesa = new Promise((resolve, reject) => {
    setTimeout(function() {
        resolve("salio Ok");
    }, 1000);
});
promesa.then((mensajeok) => {
        console.log('Mensaje: ' + mensajeok);
    }

)
</code>
</pre>
    <p>otro ejemplo</p>
    <pre>
    <code>
let x = 62;

const p = new Promise((resolve, reject) => {
    if (x == 5) {
        resolve('La variable es igual a 5')
    } else {
        reject('La variable NO igual a 5')
    }
});

p
    .then(res => {
        console.log('Success: ' + res)
    })

.catch(error => {
    console.log('Error: ' + error)
})
        </code>
    </pre>
  </body>
</html>
